<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Calendar and Gmail Integration</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/luxon@3/build/global/luxon.min.js"></script>
  </head>

  <body>
    <div class="container">
      <h1>Google Calendar and Gmail Integration</h1>
      <button id="login-button">Login with Google</button>
      <button id="fetch-events-button" style="display: none;">Fetch Calendar Events</button>
      <button id="fetch-availabilities-button" style="display: none;">Fetch Availabilities</button>
      <button id="fetch-emails-button" style="display: none;">Fetch Today's Emails</button>
      <button id="fetch-contacts-button" style="display: none;">Fetch Contacts</button>
      <button id="send-email-button" style="display: none;">Send Email</button>
      <button id="create-event-button" style="display: none;">Create Event</button>
      <button id="open-chat-button" style="display: none;">Open Email Manager Chat</button>
      <div id="events-list"></div>
      <div id="availabilities-list"></div>
      <div id="emails-list"></div>
      <div id="contacts-list"></div>
      <div id="email-form" style="display: none;">
        <h2>Send Email</h2>
        <form id="send-email-form">
          <input type="email" id="email-to" placeholder="To" required>
          <input type="text" id="email-subject" placeholder="Subject" required>
          <textarea id="email-body" placeholder="Message" required></textarea>
          <button type="submit">Send</button>
        </form>
      </div>
      <div id="event-form" style="display: none;">
        <h2>Create Event</h2>
        <form id="create-event-form">
          <input type="text" id="event-summary" placeholder="Summary" required>
          <input type="datetime-local" id="event-start" required>
          <input type="datetime-local" id="event-end" required>
          <input type="text" id="event-description" placeholder="Description">
          <input type="text" id="event-location" placeholder="Location">
          <button type="submit">Create</button>
        </form>
      </div>
    </div>

    <div id="chat-container" style="display: none;">
      <div class="chat-header">
        <h2>Email Manager Chat</h2>
        <button id="close-chat-button">&times;</button>
      </div>
      <div id="chat-messages"></div>
      <div id="chat-input">
        <input type="text" id="user-input" placeholder="Type your message...">
        <button id="send-message">Send</button>
      </div>
    </div>

    <!-- Link to the external JavaScript file -->
    <script src="{{ url_for('static', filename='js/index.js') }}"></script>
  </body>

</html>